<template>
    <div class="sort-table-js" > 
        <h3>Draggable {{ draggingInfo }}</h3>
        <draggable
        :persons="persons"
        :disabled="!enabled"
        class="list-group"
        ghost-class="ghost"
        :move="checkMove"
        @start="dragging = true"
        @end="dragging = false"
      >
        <el-card 
            class="box-card"
            v-for="(person ,index) in persons"
            :key="index"  >
            <div  class="text item">
                <h3>{{person.name}}</h3>
                <div>{{person.description}}</div>
            </div>
            </el-card>
        </draggable>
        
    </div>
</template>
<script>
import draggable from "vuedraggable";
export default {
    name:'SortTableJs',
    components: {draggable : draggable},
    data() {
        return {
            dragging: false,
            enabled: true,
            persons: [
                {
                    id:0,
                    name: "Elliot Fu",
                    description: "Elliot Fu is a film-maker from New York."
                },
                 {
                    id:1,
                    name: "Veronika Ossi",
                    description: "Input array to draggable component. Typically same array as referenced by inner element v-for directive."
                },
                 {
                    id:2,
                    name: "Jenny Hess",
                    description: "Veronika Ossi is a set designer living in New York who enjoys kittens, music, and partying."
                },
                 {
                    id:3,
                    name: "Jacky Chan",
                    description: "enny is a student studying Media Management at the New School."
                },
            ]
        }
    },
computed: {
    draggingInfo() {
      return this.dragging ? "under drag" : "";
    }
  },
    methods: {
         checkMove: function(e) {
            window.console.log("Future index: " + e.draggedContext.futureIndex);
        }
    }
}
</script>
<style>
  .text {
    font-size: 14px;
  }

  .box-card {
    width: 480px;
    margin: 10px 0px;
  }
  .drag-class {
      border:1px solid red;
  }
</style>